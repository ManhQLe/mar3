!function(t){function e(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:o})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=4)}([function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),i=function(){function t(){o(this,t)}return r(t,[{key:"onCommunication",value:function(t,e,n){}},{key:"onConnection",value:function(t,e){}}],[{key:"connect",value:function(t,e,n){t.onConnection(e,n),e.onConnection(t,n)}},{key:"vibrate",value:function(t,e,n,o){t.onCommunication(o,e,n)}}]),t}();t.exports=i},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var c=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),u=n(0),a=function(t){function e(t){o(this,e);var n=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.__={agreement:t||{},contacts:null},n.createProp("agreement",void 0,e.CONST.defaultGet,e.CONST.defaultSet,n.__),n.createProp("contacts",void 0,e.CONST.defaultGet,e.CONST.defaultSet,n.__),n}return i(e,t),c(e,[{key:"createProp",value:function(t,n,o,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.__.agreement;e.createProp(this,t,n,o,r,i)}},{key:"isSameConnectionPoint",value:function(t,e){return t===e}}],[{key:"createProp",value:function(t,n,o,r,i,c){r||(r=e.CONST.defaultGet),i||(i=e.CONST.defaultSet),Object.defineProperty(t,n,{get:function(){return r.call(this,n,c,o)},set:function(t){i.call(this,n,c,t)}})}}]),e}(u);a.CONST={noSet:function(){},defaultGet:function(t,e,n){return!(e.hasOwnProperty(t)||void 0===n)&&(this[t]=n),e[t]},defaultSet:function(t,e,n){e[t]=n}},t.exports=a},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var c=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),u=n(0),a=n(1),f=function(t){function e(t){o(this,e);var n=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.contacts=[],n.createProp("signal",null,function(){},function(t,e,n){this.onCommunication(this,Symbol("DecisionfromAbove"),n)}),n}return i(e,t),c(e,[{key:"onConnection",value:function(t,n){var o=this.contacts,r=o.find(function(e){return e.withClay===t});!(r&&(this.isSameConnectionPoint(r.connectPoint,n)||r.withClay instanceof e))&&o.push({withClay:t,connectPoint:n})}},{key:"onCommunication",value:function(t,e,n){var o=this.__.contacts,r=!0,i=!1,c=void 0;try{for(var a,f=o[Symbol.iterator]();!(r=(a=f.next()).done);r=!0){var l=a.value,s=l.withClay,p=l.connectPoint;s!==t&&!this.isSameConnectionPoint(p,e)&&setTimeout(u.vibrate,0,s,p,n,this)}}catch(t){i=!0,c=t}finally{try{!r&&f.return&&f.return()}finally{if(i)throw c}}}},{key:"connect",value:function(t,e){this.onConnection(t,e)}}]),e}(a);f.link=function(t,e,n,o){var r=new f;return u.connect(t,r,e),n&&o&&u.connect(o,r,n),r},f.multiLink=function(){for(var t=new f,e=0;e<arguments.length;e+=2)u.connect(arguments.length<=e?void 0:arguments[e],t,arguments.length<=e+1?void 0:arguments[e+1]);return t},t.exports=f},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function c(t){var e,n,o,r,i,c,u,l,s;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:e=new Set,t.cystalize();case 2:return void(a.next=5);case 5:n=a.sent,o=n.connectPoint,r=n.signal,i=t.__,c=i.contacts,u=i.signalStore,l=t.connectPoints,l.indexOf(o)>=0?(u[o]=r,e.add(o),e.size==l.length&&(t.staged&&e.clear(),setTimeout.call(t,t.response,0,t.__.center))):(s=c.get(o))&&f.vibrate(s,o,r,t),a.next=2;break;case 13:case"end":return a.stop()}},a,this)}var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),a=regeneratorRuntime.mark(c),f=n(0),l=n(1),s=function(t){function e(t){o(this,e);var n=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.contacts=new Map,n.__.signalStore={},n.__.sensor=c(n),n.createProp("staged",!1),n.createProp("connectPoints",[]),n.createProp("response",function(){}),n.createProp("cystalize",function(){}),n.__.center=new Proxy(n,{get:function(t,e){return t.__.signalStore[e]},set:function(t,e,n){return t.__.sensor.next({connectPoint:e,signal:n}),!0}}),n.__.sensor.next(),n}return i(e,t),u(e,[{key:"onConnection",value:function(t,e){this.contacts.set(e,t)}},{key:"onCommunication",value:function(t,e,n){var o=this,r=this.contacts;this.connectPoints.find(function(t){return o.isSameConnectionPoint(t,e)})&&r.get(e)===t&&(this.__.center[e]=n)}}]),e}(l);t.exports=s},function(t,e,n){"use strict";var o=n(0),r=n(2),i=n(3),c=n(5),u=n(1),a=n(6),f=n(7);t.exports={Clay:o,Conduit:r,BehavioralClay:i,LogicalClay:c,AttribClay:u,SynthClay:a,UniflowClay:f}},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var c=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),u=(n(0),n(3)),a=function(t){function e(t){o(this,e);var n=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.response=function(t){return n.logicAtCenter.call(t,n.agreement)},n}return i(e,t),c(e,[{key:"logicAtCenter",value:function(){}}]),e}(u);t.exports=a},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var c=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),u=n(1),a=(n(2),function(t){function e(t){o(this,e);var n=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));n.createProp("portDefinition",{}),n.createProp("buildfx",e.CONST.defaultBuild);var i=(n.buildfx(),n.inPorts);return Object.assign(i,n.buildfx()),n}return i(e,t),c(e,[{key:"onConnection",value:function(t,e){var n=this.portDefinition,o=n[e];o&&u.connect(t,o,e)}},{key:"onCommunication",value:function(t,e,n){var o=this.portDefinition,r=o[e];r&&u.vibrate(r,e,n)}}]),e}(u));a.CONST={defaultBuild:function(){return{}}},t.exports=a},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var c=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),u=n(0),a=function(t){function e(t){o(this,e);var n=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.__={IN:[],OUT:[]},n}return i(e,t),c(e,[{key:"onConnection",value:function(t,e){if("IN"!==e||"OUT"!==e)throw"Only accept IN or OUT";var n=this.__,o=n.IN,r=n.OUT;"IN"===e&&!o.find(function(e){return e===t})&&o.push(t),"OUT"===e&&!r.find(function(e){return e===t})&&r.push(t)}},{key:"onCommunication",value:function(t,e,n){"IN"===e&&this.IN.find(function(e){return e===t})&&this.__.OUT.forEach(function(t){u.vibrate(t,"OUT")})}}]),e}(u);e.default=a}]);