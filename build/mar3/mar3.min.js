!function(t){function e(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:o})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=4)}([function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),i=function(){function t(){o(this,t)}return r(t,[{key:"onCommunication",value:function(t,e,n){}},{key:"onConnection",value:function(t,e){}}],[{key:"connect",value:function(t,e,n){t.onConnection(e,n),e.onConnection(t,n)}},{key:"vibrate",value:function(t,e,n,o){t.onCommunication(o,e,n)}}]),t}();t.exports=i},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),c=n(0),a=function(t){function e(t){o(this,e);var n=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.__={props:t||{}},n}return i(e,t),u(e,[{key:"createProp",value:function(t,n,o,r){e.createProp(this,t,n,o,r,this.__.props)}}],[{key:"createProp",value:function(t,n,o,r,i,u){r||(r=e.CONST.defaultGet),i||(i=e.CONST.defaultSet),Object.defineProperty(t,n,{get:function(){return r.call(this,n,u,o)},set:function(t){i.call(this,n,u,t)}})}}]),e}(c);a.CONST={defaultGet:function(t,e,n){return e.hasOwnProperty(t)||void 0===n||(this[t]=n),e[t]},defaultSet:function(t,e,n){e[t]=n}},t.exports=a},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),c=n(0),a=n(1),f=function(t){function e(t){o(this,e);var n=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.__.contacts=[],n.createProp("signal",null,function(){},function(t,e,n){this.onCommunication(this,Symbol("ITalkToMe"),n)}),n}return i(e,t),u(e,[{key:"onConnection",value:function(t,n){var o=this.__.contacts,r=o.find(function(e){return e.withClay===t});r&&(r.withMedium===n||r.withClay instanceof e)||o.push({withClay:t,withMedium:n})}},{key:"onCommunication",value:function(t,e,n){var o=this.__.contacts,r=!0,i=!1,u=void 0;try{for(var a,f=o[Symbol.iterator]();!(r=(a=f.next()).done);r=!0){var s=a.value,l=s.withClay,p=s.withMedium;l!==t&&p!==e&&(console.log("Propagating signal "+n+" from "+e.toString()+" to "+p),setTimeout(c.vibrate,0,l,p,n,this))}}catch(t){i=!0,u=t}finally{try{!r&&f.return&&f.return()}finally{if(i)throw u}}}}]),e}(a);f.link=function(t,e,n,o){var r=new f;return c.connect(t,r,e),n&&o&&c.connect(o,r,n),r},t.exports=f},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t){var e,n,o,r,i,u,c,s,l;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:e=new Set;case 1:return void(a.next=4);case 4:n=a.sent,o=n.portName,r=n.signal,i=t.__,u=i.contacts,c=i.signalStore,s=t.inputNames,s.indexOf(o)>=0?(c[o]=r,e.add(o),e.size==s.length&&(console.log(o+" has signal "+r+": READY TO FIRE "),t.staged&&e.clear(),setTimeout.call(t,t.fx,0,t.__.ports))):(l=u.get(o))&&f.vibrate(l,o,r,t),a.next=1;break;case 12:case"end":return a.stop()}},a,this)}var c=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),a=regeneratorRuntime.mark(u),f=n(0),s=n(1),l=function(t){function e(t){o(this,e);var n=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.__.contacts=new Map,n.__.signalStore={},n.__.sensor=u(n),n.createProp("staged",!1),n.createProp("inputNames",[]),n.createProp("fx",function(){}),n.createProp("initfx",function(){}),n.createProp("props",void 0,function(){return this.__.props},function(){}),n.__.ports=new Proxy(n,{get:function(t,e){return t.__.signalStore[e]},set:function(t,e,n){return t.__.sensor.next({portName:e,signal:n}),!0}}),n.__.sensor.next(),n}return i(e,t),c(e,[{key:"onConnection",value:function(t,e){this.__.contacts.set(e,t)}},{key:"onCommunication",value:function(t,e,n){var o=this.__.contacts;this.inputNames.indexOf(e)>=0&&o.get(e)===t&&(this.__.ports[e]=n)}}]),e}(s);t.exports=l},function(t,e,n){"use strict";var o=n(0),r=n(2),i=n(3),u=n(5),c=n(6),a=n(1);t.exports={Clay:o,Conduit:r,ProgrammableClay:i,SynBlock:u,LogicBlock:c,PropClay:a}},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),c=n(1),a=(n(2),function(t){function e(t){o(this,e);var n=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));n.createProp("portDefinition",{}),n.createProp("buildfx",e.CONST.defaultBuild);var i=(n.buildfx(),n.inPorts);return Object.assign(i,n.buildfx()),n}return i(e,t),u(e,[{key:"onConnection",value:function(t,e){var n=this.portDefinition,o=n[e];o&&c.connect(t,o,e)}},{key:"onCommunication",value:function(t,e,n){var o=this.portDefinition,r=o[e];r&&c.vibrate(r,e,n)}}]),e}(c));a.CONST={defaultBuild:function(){return{}}},t.exports=a},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),c=(n(0),n(3)),a=function(t){function e(t){o(this,e);var n=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return Object.assign(n.props,{inputNames:n.definePorts(),fx:function(t){return n.logic.call(t,n.props)}}),n}return i(e,t),u(e,[{key:"definePorts",value:function(){return[]}},{key:"logic",value:function(){}}]),e}(c);t.exports=a}]);